# Nixpacks config for Next.js (Easypanel)
# Explicit build/start so Nixpacks does not need to scan all files

[phases.install]
cmds = ["npm install --ignore-scripts"]

[phases.build]
cmds = ["npm run build"]

[start]
# Uses scripts/start-server.js: reads process.env.PORT, binds 0.0.0.0
cmd = "node ./scripts/start-server.js"

[variables]
NODE_ENV = "production"
